<div class="password-dialog-container">
  <div mat-dialog-title class="password-dialog-title {{data.type}}">
    <div>
      <span><i class="fa fa-unlock"></i>   </span>
      <h1>&nbsp;&nbsp;&nbsp;{{data.title}}</h1>
    </div>
  </div>
  <div>>
    <form [formGroup]="userForm" class="password-form-container">

      <ly-grid container alignItems="center" [spacingY]="2">

        <ly-field fullWidth appearance="outlined"  [color]="onColor('email')">
          <input [style.color]="onColor('email')" lyNativeControl placeholder="**********"
                 type="text"
                 [readonly]="true"
                 formControlName="email">
          <ly-label [style.color]="onColor('email')">Email</ly-label>
        </ly-field>

        <ly-field *ngIf="isReset()" fullWidth appearance="outlined" [color]="onColor('password')">
          <input [style.color]="onColor('password')" lyNativeControl placeholder="**********"
                 [type]="hide ? 'password' : 'text'"
                 formControlName="password">
          <ly-label [style.color]="onColor('password')">Senha antiga</ly-label>
          <button tabindex="-1" ly-button
                  appearance="icon"
                  lySuffix
                  (click)="hide = !hide">
            <ly-icon tabindex="-1" [style.color]="onColor('password')">{{ hide ? 'visibility' : 'visibility_off' }}</ly-icon>
          </button>
          <ly-error>
            <error-msg [control]="userForm.get('password')" [label]="'Senha antiga'"></error-msg>
          </ly-error>
          <ly-hint [style.color]="onColor('password')"
                   [align]="'after'">{{ userForm.get('password').value?.length || 0 }}/6
          </ly-hint>
        </ly-field>

        <ly-field fullWidth appearance="outlined" [color]="onColor('newpassword')">
          <input [style.color]="onColor('newpassword')" lyNativeControl placeholder="**********"
                 [type]="hide1 ? 'password' : 'text'"
                 formControlName="newpassword">
          <ly-label [style.color]="onColor('newpassword')">Senha nova</ly-label>
          <button tabindex="-1" ly-button
                  appearance="icon"
                  lySuffix
                  (click)="hide1 = !hide1">
            <ly-icon tabindex="-1" [style.color]="onColor('password')">{{ hide1 ? 'visibility' : 'visibility_off' }}</ly-icon>
          </button>
          <ly-error>
            <error-msg [control]="userForm.get('newpassword')" [label]="'Senha nova'"></error-msg>
          </ly-error>
          <ly-hint [style.color]="onColor('newpassword')"
                   [align]="'after'">{{ userForm.get('newpassword').value?.length || 0 }}/6
          </ly-hint>
        </ly-field>

        <ly-field fullWidth appearance="outlined" [color]="onColor('confirmpassword')">
          <input [style.color]="onColor('confirmpassword')" lyNativeControl placeholder="**********"
                 [type]="hide2 ? 'password' : 'text'"
                 formControlName="confirmpassword">
          <ly-label [style.color]="onColor('confirmpassword')">Confirmar senha nova</ly-label>
          <button tabindex="-1" ly-button
                  appearance="icon"
                  lySuffix
                  (click)="hide2 = !hide2">
            <ly-icon tabindex="-1" [style.color]="onColor('password')">{{ hide2 ? 'visibility' : 'visibility_off' }}</ly-icon>
          </button>
          <ly-error>
            <error-msg [control]="userForm.get('confirmpassword')" [label]="'Confirmar senha'" [otherLabel]="'Senha nova'"></error-msg>
          </ly-error>
          <ly-hint [style.color]="onColor('confirmpassword')"
                   [align]="'after'">{{ userForm.get('confirmpassword').value?.length || 0 }}/6
          </ly-hint>
        </ly-field>

      </ly-grid>

    </form>
  </div>
  <div mat-dialog-actions>
    <div class="password-dialog-actions">
      <button type="submit" [disabled]="!userForm.valid" [mat-dialog-close]="userForm.value" mat-mini-fab matTooltip="Salvar informações"
              aria-label="Salvar informações">
        <i class="fas fa-check"></i>
      </button>
      <div class="fill"></div>
      <button (click)="onNoClick()" mat-mini-fab matTooltip="Não salvar informações" aria-label="Não salvar informações">
        <i class="fas fa-ban"></i>
      </button>
    </div>
  </div>
  <!--  Só para testes
  <form-debug [form]="userForm"></form-debug>-->
</div>
